(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{89825:function(e,s,t){Promise.resolve().then(t.bind(t,59798))},59798:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(57437),i=t(65118),n=t(96264),l=t(35231),d=t(92566),c=t(54142),r=t(2842),o=t(9542),h=t(85475),x=t(16638),m=t(23909),u=t(85369),j=t(68295),v=t(20153),p=t(25974),f=t(45745);let g=["#0EA5E9","#22c55e","#f59e0b","#ef4444"];function b(){var e,s,t,b,k;let{data:N,error:w,isLoading:E}=(0,i.a)({queryKey:["analytics"],queryFn:()=>(0,n.Z)("/api/mock/analytics")}),K=N||{kpis:{avgSentiment:0,avgRating:0,reviews30d:0,medianResponseHrs:0},sentimentTrend:[],channelSplit:[],ratingDist:[]};return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-6",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Analytics"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,a.jsx)(y,{label:"Avg Sentiment",value:(null!==(s=K.kpis.avgSentiment)&&void 0!==s?s:0).toFixed(2)}),(0,a.jsx)(y,{label:"Avg Rating",value:(null!==(t=K.kpis.avgRating)&&void 0!==t?t:0).toFixed(2)}),(0,a.jsx)(y,{label:"Reviews (30d)",value:null!==(b=K.kpis.reviews30d)&&void 0!==b?b:0}),(0,a.jsx)(y,{label:"Median Response Time",value:"".concat(null!==(k=K.kpis.medianResponseHrs)&&void 0!==k?k:0,"h")})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"card lg:col-span-2",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Sentiment Over Time"}),(0,a.jsx)("div",{className:"h-72",children:(0,a.jsx)(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:K.sentimentTrend||[],children:[(0,a.jsx)(c.q,{strokeDasharray:"3 3",stroke:"#334155"}),(0,a.jsx)(r.K,{dataKey:"date",stroke:"#94a3b8"}),(0,a.jsx)(o.B,{stroke:"#94a3b8"}),(0,a.jsx)(h.u,{}),(0,a.jsx)(x.x,{type:"monotone",dataKey:"sentiment",stroke:"#0EA5E9",strokeWidth:2,dot:!1})]})})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Channel Split"}),(0,a.jsx)("div",{className:"h-72",children:(0,a.jsx)(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(m.u,{children:[(0,a.jsx)(u.b,{data:K.channelSplit||[],dataKey:"value",nameKey:"name",outerRadius:90,children:null===(e=K.channelSplit)||void 0===e?void 0:e.map((e,s)=>(0,a.jsx)(j.b,{fill:g[s%g.length]},s))}),(0,a.jsx)(v.D,{}),(0,a.jsx)(h.u,{})]})})})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Ratings Distribution"}),(0,a.jsx)("div",{className:"h-72",children:(0,a.jsx)(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(p.v,{data:K.ratingDist||[],children:[(0,a.jsx)(c.q,{strokeDasharray:"3 3",stroke:"#334155"}),(0,a.jsx)(r.K,{dataKey:"stars",stroke:"#94a3b8"}),(0,a.jsx)(o.B,{stroke:"#94a3b8"}),(0,a.jsx)(h.u,{}),(0,a.jsx)(f.$,{dataKey:"count",fill:"#22c55e"})]})})})]})]})}function y(e){let{label:s,value:t}=e;return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"text-slate-400 text-sm",children:s}),(0,a.jsx)("div",{className:"text-2xl font-semibold mt-1",children:t})]})}},96264:function(e,s,t){"use strict";async function a(e,s){let t=await fetch(e,{method:(null==s?void 0:s.method)||"GET",headers:{"Content-Type":"application/json",...(null==s?void 0:s.headers)||{}},body:(null==s?void 0:s.body)?JSON.stringify(s.body):void 0,cache:"no-store"});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("API ".concat(t.status," ").concat(t.statusText,": ").concat(e))}return t.json()}t.d(s,{Z:function(){return a}})}},function(e){e.O(0,[336,118,454,971,23,744],function(){return e(e.s=89825)}),_N_E=e.O()}]);